<!DOCTYPE html>
<html>

<head>
  <title>Find Nearest Clinic</title>
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
  <!-- Vue -->
  <script src="https://unpkg.com/vue@next"></script>
</head>

<body>
  <div id="app1">
    <nav class="sb-topnav navbar navbar-expand navbar-dark bg-success" id="navbar">
      <a class="navbar-brand ps-3" href="afterloginhome.html">HealthBuddy</a>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="afterloginhome.html">Home</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="trackerDropdown" role="button" data-bs-toggle="dropdown"
              aria-expanded="false">
              Tracker
            </a>
            <ul class="dropdown-menu" aria-labelledby="trackerDropdown">
              <li><a class="dropdown-item" href="bloodpressure.html">Blood Pressure Tracker</a></li>
              <li><a class="dropdown-item" href="bloodglucose.html">Blood GLucose Tracker</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="alert.html">Alert</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="map.html">Map</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="forum.html">Forum</a>
          </li>
        </ul>
      </div>

      <div>
        <div class="small" style="color: white;">Welcome {{currentUser.fName + " " +currentUser.lName}}!</div>
      </div>

      <ul class="navbar-nav ms-auto ms-md-0 me-3 me-lg-4">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown"
            aria-expanded="false"><i class="fas fa-user fa-fw"></i></a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item" @click="logout()">Logout</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </div>

  <div id="container">
    <div id="map"></div>
    <div id="directionsPanel"></div>
    <select name="clinicType" id="clinicType">
      <option value="polyclinic">Polyclinic</option>
      <option value="hospital">Hospital</option>
      <option value="both">Both</option>
    </select>
    <button style="background-color: lightgreen; color: white;" id="findNearest" onclick="findNearestClinic()">Find
      Nearest Clinic</button>
    <select name="travelMode" id="travelMode">
      <option value="DRIVING">Driving</option>
      <option value="TRANSIT">Public Transport</option>
      <option value="WALKING">Walking</option>
    </select>
  </div>

  <script src="./script.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAFtaTy4IH89MAJwdPPaG35_4t3jPbiVN8&callback=initMap"
    async defer></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
    integrity="...HUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
</body>

</html>

<script>
  const app = Vue.createApp({
    data() {
      return {
        currentUser: null,
      }
    },
    methods: {
      logout() {
        localStorage.removeItem("user");
        window.location.href = "login.html";
      }
    },
    created() {
      this.currentUser = JSON.parse(localStorage.getItem("user"));
      console.log(this.currentUser);
    },
  });
  const vm = app.mount("#app1")
</script>